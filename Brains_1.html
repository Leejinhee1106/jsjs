<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- plotly.js CDN 선언 -->
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <!-- 부트스트랩 -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>자바스크립트 머신러닝 라이브러리</title>
</head>
<body>
<div class="container-fluid">
    <div class="row mt-3">
        <div class="col-md-6">
            <h3 class="text-center">장점</h3>
            <pre>
            - 설치가 필요없고, 사용이 쉬움 <br/>
            - 강력한 그래픽, 브라우저에서 WebGL 지원 <br/>
            - 개인정보 보호가 강화 <br/>
            - 모든 플랫폼에서 실행 <br/>
            </pre>
        </div>

        <div class="col-md-6">
            <h3 class="text-center">종류</h3>
            <pre>
            - HTML Canvas<br/>
            - Plotly.js<br/>
            - Chart.js<br/>
            - Google Chart<br/>
            - D3.js<br/>
            </pre>
        </div>
    </div>

    <hr class="mb-4">

    <h3>아래에 각각 버튼을 누를 경우 산점도와 라인에 그래프가 생성됩니다</h3>
    <p class="mt-4 mb-2">
        <input type="text" 
        class="form-control" 
        value="x * 2 + 17" 
        id="Eq">
    </p>
    <button class="btn btn-outline-primary mb-2"
    onclick="plot('scatter')">
        Scatter
    </button><br/>
    <button class="btn btn-outline-danger"
    onclick="plot('lines')">
        Draw Line
    </button>
    <div id="myPlot" style="width: 100%; max-width: 700px;"></div>

    <script>
        function plot(type) {
            const exp = document.getElementById("Eq").value
            
            //x,y축 저장용 배열 초기화
            const xValues = [];
            const yValues = [];

            //그래프이 표시모드 설정: 기본은 선형, type이 3 정도면 점으로 표시
            let mode = "lines";
            if (type == "scatter") {mode = "markers"}

            //정해진 만큼 반복 for
            for (let x = 0; x <= 10; x += 1) { // x += 1 -> x = x + 1;
                xValues.push(x);
                yValues.push(eval(exp));
            }
            /* xValues 배열에 x를 추가
            eval(exp)를 사용하여 수식을 계산한 y값을 yValues에 추가*/

            //plotly 그래프 데이터 구성 x,y,mode 그래프 타입을 설정
            const data = [{
                x:xValues,
                y:yValues, 
                mode:mode, 
            }]
        }
    </script>

</div>
</body>
</html>